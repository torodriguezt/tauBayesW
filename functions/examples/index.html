<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/tauBayesW/_next/static/css/6580b6c6458f46c1.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/tauBayesW/_next/static/chunks/webpack-d538f15e4e06c72b.js"/><script src="/tauBayesW/_next/static/chunks/4bd1b696-242db8fb3c9bddaf.js" async=""></script><script src="/tauBayesW/_next/static/chunks/684-ae403fcf0f20e57e.js" async=""></script><script src="/tauBayesW/_next/static/chunks/main-app-3421c2b88f00561d.js" async=""></script><script src="/tauBayesW/_next/static/chunks/773-b52c3f0cf5581e94.js" async=""></script><script src="/tauBayesW/_next/static/chunks/app/layout-012c672ed84fa9f1.js" async=""></script><script src="/tauBayesW/_next/static/chunks/874-911101faabe1e290.js" async=""></script><script src="/tauBayesW/_next/static/chunks/app/not-found-22efad6de2ba218c.js" async=""></script><script src="/tauBayesW/_next/static/chunks/701-accd2d3f36be1fa3.js" async=""></script><script src="/tauBayesW/_next/static/chunks/52-86a242668b2d22fb.js" async=""></script><script src="/tauBayesW/_next/static/chunks/app/functions/examples/page-12e15cd6529707c8.js" async=""></script><title>tauBayesW</title><meta name="description" content="R package"/><meta name="generator" content="Next.js"/><script src="/tauBayesW/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><!--$--><div class="min-h-screen bg-background"><div class="container mx-auto p-6"><a class="inline-flex items-center mb-6 text-muted-foreground hover:text-foreground" href="/tauBayesW/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left mr-2 h-4 w-4"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>Back to Documentation</a><div class="max-w-4xl mx-auto"><div class="mb-8"><h1 class="text-4xl font-bold mb-4">Complete Examples</h1><p class="text-xl text-muted-foreground mb-4">End-to-end workflows and real-world applications using tauBayesW</p><div class="flex gap-2 mb-4"><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80">Complete Workflows</div></div></div><div dir="ltr" data-orientation="horizontal" class="w-full"><div role="tablist" aria-orientation="horizontal" class="h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-3" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-«R53rnb»-content-basic" data-state="active" id="radix-«R53rnb»-trigger-basic" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Basic Workflow</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R53rnb»-content-multiple" data-state="inactive" id="radix-«R53rnb»-trigger-multiple" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Multiple Quantiles</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R53rnb»-content-priors" data-state="inactive" id="radix-«R53rnb»-trigger-priors" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Prior Specification</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R53rnb»-trigger-basic" id="radix-«R53rnb»-content-basic" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-6" style="animation-duration:0s"><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><div class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up h-5 w-5 text-blue-500"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline><polyline points="16 7 22 7 22 13"></polyline></svg>Complete Basic Workflow</div><div class="text-sm text-muted-foreground">From data simulation to model interpretation - a comprehensive example</div></div><div class="p-6 pt-0"><div class="relative"><pre class="bg-muted p-4 rounded-lg overflow-x-auto text-sm max-h-96"><code># Complete workflow: Data simulation to model interpretation
library(tauBayesW)

# 1. Data Simulation
set.seed(42)
sim_data &lt;- simulate_bqr_data(
    n     = 300,
    betas = c(2.0, 1.5, -0.8),  # intercept + slopes
    sigma = 1.2,
    seed  = 42
)

# 2. Prior Specification (informative)
prior &lt;- prior_default(
    p  = 3,                             # number of coefficients
    b0 = c(0, 1.4, -0.7),               # prior means
    B0 = diag(c(0.25, 0.25, 0.25)),     # smaller variances = more concentrated prior
    c0 = 2,                             # ALD hyperparameter
    C0 = 1,
    names = c(&quot;(Intercept)&quot;, &quot;x1&quot;, &quot;x2&quot;)
)

# 3. Fit models (single quantile = 0.5)
fit_ald &lt;- bqr.svy(
    formula  = y ~ x1 + x2,
    data     = sim_data$data,
    weights  = sim_data$weights,
    quantile = 0.5,
    method   = &quot;ald&quot;,
    prior    = prior,
    niter    = 2000,
    burnin   = 500,
    thin     = 5
)

fit_score &lt;- bqr.svy(
    formula  = y ~ x1 + x2,
    data     = sim_data$data,
    weights  = sim_data$weights,
    quantile = 0.5,
    method   = &quot;score&quot;,
    prior    = prior,
    niter    = 2000,
    burnin   = 500,
    thin     = 5
)

fit_ap &lt;- bqr.svy(
    formula  = y ~ x1 + x2,
    data     = sim_data$data,
    weights  = sim_data$weights,
    quantile = 0.5,
    method   = &quot;approximate&quot;,
    prior    = prior,
    niter    = 2000,
    burnin   = 500,
    thin     = 5
)

# 4. Summaries
cat(&quot;
--- ALD ---
&quot;)
print(fit_ald$beta)
cat(&quot;
--- Score ---
&quot;)
print(fit_score$beta)
cat(&quot;
--- Approximate ---
&quot;)
print(fit_ap$beta)

# 5. Model Validation
cat(&quot;
=== Model Validation ===
&quot;)
cat(&quot;True coefficients:     &quot;, sim_data$true_betas, &quot;
&quot;)
cat(&quot;ALD Estimated:         &quot;, fit_ald$beta, &quot;
&quot;)
cat(&quot;Score Estimated:       &quot;, fit_score$beta, &quot;
&quot;)
cat(&quot;Approximate Estimated: &quot;, fit_ap$beta, &quot;
&quot;)

# 6. Visualization
par(mfrow = c(2, 2))
plot(fit_ald)
plot(fit_score)
plot(fit_ap)

# Custom plot function: regression line with points
plot_quantile_with_points.bqr.svy &lt;- function(object, data, predictor,
                                              main = NULL, ...) {
    if (!inherits(object, &quot;bqr.svy&quot;))
        stop(&quot;Object must be of class &#x27;bqr.svy&#x27;.&quot;)
    response_var &lt;- all.vars(object$formula)[1]
    if (is.null(main)) {
        main &lt;- paste(&quot;Quantile Regression (tau =&quot;, object$quantile, &quot;) vs&quot;, predictor)
    }
    plot(data[[predictor]], data[[response_var]],
         col = adjustcolor(&quot;steelblue&quot;, 0.4),
         pch = 16, xlab = predictor, ylab = response_var,
         main = main)
    grid()
    plot_quantile.bqr.svy(object, data, predictor, add = TRUE, ...)
}

# Plot regression lines with points for each model
par(mfrow = c(1, 3))
plot_quantile_with_points.bqr.svy(fit_ald,   sim_data$data, &quot;x1&quot;, main = &quot;ALD vs x1&quot;)
plot_quantile_with_points.bqr.svy(fit_score, sim_data$data, &quot;x1&quot;, main = &quot;Score vs x1&quot;)
plot_quantile_with_points.bqr.svy(fit_ap,    sim_data$data, &quot;x1&quot;, main = &quot;Approximate vs x1&quot;)</code></pre><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 absolute top-2 right-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R53rnb»-trigger-multiple" hidden="" id="radix-«R53rnb»-content-multiple" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-6"></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R53rnb»-trigger-priors" hidden="" id="radix-«R53rnb»-content-priors" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-6"></div></div></div></div></div><!--/$--><script src="/tauBayesW/_next/static/chunks/webpack-d538f15e4e06c72b.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8773,[\"773\",\"static/chunks/773-b52c3f0cf5581e94.js\",\"177\",\"static/chunks/app/layout-012c672ed84fa9f1.js\"],\"AppProvider\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n5:I[6874,[\"874\",\"static/chunks/874-911101faabe1e290.js\",\"345\",\"static/chunks/app/not-found-22efad6de2ba218c.js\"],\"\"]\n6:I[894,[],\"ClientPageRoot\"]\n7:I[8807,[\"701\",\"static/chunks/701-accd2d3f36be1fa3.js\",\"874\",\"static/chunks/874-911101faabe1e290.js\",\"52\",\"static/chunks/52-86a242668b2d22fb.js\",\"286\",\"static/chunks/app/functions/examples/page-12e15cd6529707c8.js\"],\"default\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[9665,[],\"ViewportBoundary\"]\nf:I[9665,[],\"MetadataBoundary\"]\n11:I[6614,[],\"\"]\n:HL[\"/tauBayesW/_next/static/css/6580b6c6458f46c1.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"IwT3pm6Z2kpdUFpiMfLc9\",\"p\":\"/tauBayesW\",\"c\":[\"\",\"functions\",\"examples\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"functions\",{\"children\":[\"examples\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/tauBayesW/_next/static/css/6580b6c6458f46c1.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-background flex items-center justify-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold mb-4\",\"children\":\"Not Found\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground mb-4\",\"children\":\"Could not find requested resource\"}],[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"children\":\"Return Home\"}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[\"functions\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"examples\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L6\",null,{\"Component\":\"$7\",\"searchParams\":{},\"params\":{},\"promises\":[\"$@8\",\"$@9\"]}],\"$undefined\",null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",null]}]]}],{},null,false]},null,false]},null,false]},[null,[],[]],false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"__-YZtJ8i9SJ-UE2B-ryU\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],null]}],[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"8:{}\n9:{}\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"c:null\n10:[[\"$\",\"title\",\"0\",{\"children\":\"tauBayesW\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"R package\"}],[\"$\",\"meta\",\"2\",{\"name\":\"generator\",\"content\":\"Next.js\"}]]\n"])</script></body></html>